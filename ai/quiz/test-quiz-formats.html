<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QuizIQâ„¢ Format Test</title>
  <link rel="stylesheet" href="../styles/outputstyles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div class="device-container">
    <div class="output-wrapper">
      <div id="output-span" class="api-output">
        <div class="loading">
          <div class="loading-spinner"></div>
          <div class="loading-text">Loading test quiz...</div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Test quiz data demonstrating all formats
    const testQuizData = {
      data: {
        quizContent: {
          quizTitle: "QuizIQ Format Demonstration",
          introduction: "This quiz demonstrates all supported question formats in QuizIQ",
          instructions: "Answer each question using the appropriate format. Notice how different question types provide different interaction methods.",
          questionFormat: "mixed",
          questions: [
            {
              questionNumber: 1,
              questionText: "What is the capital of France?",
              type: "multiple-choice",
              options: [
                { letter: "A", text: "London" },
                { letter: "B", text: "Berlin" },
                { letter: "C", text: "Paris" },
                { letter: "D", text: "Madrid" }
              ],
              correctAnswer: "C",
              explanation: "Paris is the capital and largest city of France."
            },
            {
              questionNumber: 2,
              questionText: "The Earth revolves around the Sun.",
              type: "true-false",
              options: [
                { value: "true", text: "True" },
                { value: "false", text: "False" }
              ],
              correctAnswer: "true",
              explanation: "This is correct - the Earth orbits the Sun in approximately 365.25 days."
            },
            {
              questionNumber: 3,
              questionText: "Explain the difference between artificial intelligence and machine learning.",
              type: "short-answer",
              correctAnswer: "AI is the broader concept of machines being able to carry out tasks in a smart way, while ML is a subset of AI focused on algorithms that learn from data.",
              explanation: "AI encompasses all forms of machine intelligence, while ML specifically refers to systems that improve through experience."
            },
            {
              questionNumber: 4,
              questionText: "Match each programming language to its primary use case:",
              type: "matching",
              columnA: [
                { id: "A1", text: "Python" },
                { id: "A2", text: "JavaScript" },
                { id: "A3", text: "SQL" },
                { id: "A4", text: "CSS" }
              ],
              columnB: [
                { id: "B1", text: "Database queries" },
                { id: "B2", text: "Web styling" },
                { id: "B3", text: "Data science" },
                { id: "B4", text: "Web interactivity" }
              ],
              correctMatches: [
                { from: "A1", to: "B3" },
                { from: "A2", to: "B4" },
                { from: "A3", to: "B1" },
                { from: "A4", to: "B2" }
              ],
              explanation: "Each programming language has its strengths in different domains."
            },
            {
              questionNumber: 5,
              questionText: "The _____ is the largest planet in our solar system, and it has _____ major moons.",
              type: "fill-in-the-blank",
              blanks: [
                { position: 1, correctAnswer: "Jupiter", alternatives: ["jupiter"] },
                { position: 2, correctAnswer: "four", alternatives: ["4", "IV"] }
              ],
              explanation: "Jupiter is the largest planet and has four major moons: Io, Europa, Ganymede, and Callisto."
            }
          ]
        },
        generatedDate: new Date().toISOString(),
        responseKey: "quizIqResponse"
      }
    };

    // Store test data in localStorage to simulate the workflow
    localStorage.setItem('quizIqResponse', JSON.stringify({
      message: 'Success',
      data: testQuizData.data
    }));

    // Load the enhanced quiz functionality from quizoutput.html
    fetch('./quizoutput.html')
      .then(response => response.text())
      .then(html => {
        // Extract the script content from quizoutput.html
        const scriptMatch = html.match(/<script>([\s\S]*?)<\/script>/);
        if (scriptMatch) {
          const quizScript = scriptMatch[1];
          // Execute the quiz script in this context
          eval(quizScript);
        }
      })
      .catch(error => {
        console.error('Error loading quiz script:', error);
        // Fallback: show a simple message
        document.getElementById('output-span').innerHTML = `
          <div style="text-align: center; padding: 40px;">
            <h2>QuizIQ Format Demo</h2>
            <p>This would show a demonstration of all supported quiz formats.</p>
            <p>Open quizoutput.html directly to see the full functionality.</p>
          </div>
        `;
      });
  </script>
</body>
</html>
