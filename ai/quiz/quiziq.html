<!--
 * Copyright (c) 2025 INEXASLI. All rights reserved.
 * This code is protected under Canadian and international copyright laws.
 * Unauthorized use, reproduction, distribution, or modification of this code 
 * without explicit written permission via email from info@inexasli.com 
 * is strictly prohibited. Violators will be pursued and prosecuted to the 
 * fullest extent of the law in British Columbia, Canada, and applicable 
 * jurisdictions worldwide.
-->

<div class="device-container" id="quiziq-device-container">

<div class="row1">
    <div class="product-card">
        <div class="product-icon-container">
            <i class="bx bx-question-mark product-icon"></i>
        </div>
        <div class="product-headline">Quiz Generator</div>
        <p class="product-description-text">
            This tool helps you organize learning topics and quiz preferences by specifying your subject and requirements. It generates organized data for deeper analysis, supports learning key concepts and quiz formats, and prepares you to ask better questions when consulting qualified educators.
        </p>
        <div class="product-divider"></div>
        <p class="product-description-final">
            Ready to create learning quizzes!
        </p>
        <p class="product-description-disclaimer">
            <em>This is a learning tool only. All content is generated by third-party AI systems and is for educational and informational purposes. This is not professional educational assessment or curriculum design. AI can make mistakes and generate inaccurate information. For formal education or testing, consult qualified educators, curriculum specialists, or educational assessment professionals.</em>
        </p>
    </div>
</div>

        <div class="row1">
            <textarea id="subject" rows="2" placeholder="Quiz Subject:
World War II
Python Programming"></textarea>
        </div>
        <div class="row1">
            <select id="objective">
                <option value="" disabled selected>Select Quiz Objective</option>
                <option value="self-study">Self-Study</option>
                <option value="classroom-assessment">Classroom Assessment</option>
                <option value="exam-practice">Exam Practice</option>
                <option value="knowledge-review">Knowledge Review</option>
                <option value="certification-prep">Certification Prep</option>
                <option value="other">Other</option>
            </select>
        </div>
        <div class="row1">
            <select id="difficulty-tier">
                <option value="" disabled selected>Select Difficulty Level</option>
                <option value="beginner">Beginner</option>
                <option value="intermediate">Intermediate</option>
                <option value="advanced">Advanced</option>
            </select>
        </div>
        <div class="row1">
            <h3 class="tooltip1" data-tooltip="Choose the types of questions you want in your quiz.">
                Question Formats<span class="tooltip1-content"></span>
            </h3>
            <div class="grid-container" id="formats">
                <div class="grid-item" data-value="multiple-choice">Multiple Choice</div>
                <div class="grid-item" data-value="true-false">True/False</div>
            </div>
        </div>
        <div class="row1">
            <select id="question-count">
                <option value="" disabled selected>Select Question Count</option>
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="15">15</option>
                <option value="20">20</option>
                <option value="25">25</option>
                <option value="other">Other</option>
            </select>
        </div>
        <div class="row1">
            <textarea id="focus-areas" rows="2" placeholder="Focus Areas:
Causes of WWI
Key Battles"></textarea>
        </div>
        <div class="row1">
            <h3 class="tooltip1" data-tooltip="Identify who will be taking this quiz to tailor the language and difficulty appropriately.">
                Target Participants<span class="tooltip1-content"></span>
            </h3>
            <div class="grid-container" id="participants">
                <div class="grid-item" data-value="students">Students</div>
                <div class="grid-item" data-value="professionals">Professionals</div>
                <div class="grid-item" data-value="enthusiasts">Enthusiasts</div>
                <div class="grid-item" data-value="general-learners">General Learners</div>
                <div class="grid-item" data-value="kids">Kids</div>
                <div class="grid-item" data-value="certification-trainees">Certification Trainees</div>
                <div class="grid-item" data-value="other">Other</div>
            </div>
            
            <button class="generate-btn" id="generate-quiz-btn">Generate Analysis</button>
        </div>

<script type="module">
/*
 * Copyright (c) 2025 INEXASLI. All rights reserved.
 * This code is protected under Canadian and international copyright laws.
 * Unauthorized use, reproduction, distribution, or modification of this code 
 * without explicit written permission via email from info@inexasli.com 
 * is strictly prohibited. Violators will be pursued and prosecuted to the 
 * fullest extent of the law in British Columbia, Canada, and applicable 
 * jurisdictions worldwide.
*/

// Rate limiting utilities are now available globally via window.rateLimiter

(function() {
    // Initialize FormPersistence for quiziq module
    const fields = [
        { id: 'quiz-subject', type: 'textarea' },
        { id: 'quiz-objective', type: 'dropdown' },
        { id: 'quiz-difficulty-tier', type: 'dropdown' },
        { id: 'quiz-formats', type: 'grid' },
        { id: 'quiz-question-count', type: 'dropdown' },
        { id: 'quiz-focus-areas', type: 'textarea' },
        { id: 'quiz-participants', type: 'grid' }
    ];

    // FormPersistence will be initialized by datain.js as window.quizFormPersistence
    // No need to create a new instance here

    // Listen for grid-item-toggled event from datain.js
    function handleGridItemToggled(event) {
        // UI behavior only - persistence handled centrally
    }

    // Handle the generate button click
    // Handle the generate button click - Use centralized handler
    async function handleGenerateQuizIq() {
        try {
            await window.handleGenerateRequest('quiz', {
                alertMessage: 'Please complete the form before generating a quiz.'
            });
        } catch (error) {
            // Error is already handled by centralized function
            console.error('[QuizIQ] Error in quiz generation wrapper:', error);
        }
    }

    // Initialization - simplified to match calorie module pattern
    const generateQuizBtn = document.getElementById('generate-quiz-btn');
    if (generateQuizBtn) {
        generateQuizBtn.addEventListener('click', handleGenerateQuizIq);
        // Set flag to prevent duplicate handler attachment
        generateQuizBtn.dataset.handlerAttached = 'true';
    }
})();
</script>
</div> <!-- Close mobile-container -->
