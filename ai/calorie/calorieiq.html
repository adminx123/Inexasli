<!-- /*
 * Copyright (c) 2025 INEXASLI. All rights reserved.
 * This code is protected under Canadian and international copyright laws.
 * Unauthorized use, reproduction, distribution, or modification of this code 
 * without explicit written permission via email from info@inexasli.com 
 * is strictly prohibited. Violators will be pursued and prosecuted to the 
 * fullest extent of the law in British Columbia, Canada, and applicable 
 * jurisdictions worldwide.
 */ -->

 


<div class="device-container" id="calorieiq-device-container" >
  <div class="row1 product-description-container" data-step-label="Introduction">
    <h2 class="product-description-heading">CalorieIQ™</h2>
    <p class="product-description-text">
        CalorieIQ™ is a personal nutrition educational tool that helps you organize your nutritional information for learning purposes. By inputting your personal details and fitness goals, you'll help our system create queries for third-party AI providers to generate educational content about nutrition concepts and calorie calculations. This content is designed to help you prepare better questions for consultations with qualified nutritionists or dietitians.
    </p>
    <p class="product-description-final">
        Ready to explore nutrition concepts!
    </p>
    <p class="product-description-disclaimer">
        <em>This is an educational tool only. All content is generated by third-party AI systems and is for educational and informational purposes. This is not medical or nutritional advice. AI can make mistakes and generate inaccurate information. For personalized nutrition guidance, consult a licensed dietitian or healthcare professional.</em>
    </p>
  </div>

  <div class="row1" data-step-label="Personal Information">
    <h3 class="tooltip1" data-tooltip="Basic physical information needed to calculate your personalized calorie requirements.">
      Personal Information<span class="tooltip1-content"></span>
    </h3>
    <input id="age" type="text" placeholder="Age">
    <input id="height" type="text" placeholder="5'10">
    <input id="weight" type="text" placeholder="70 kg">
    <select id="sex">
      <option value="" disabled selected>Select Gender</option>
      <option value="man">Man</option>
      <option value="woman">Woman</option>
    </select>
  </div>

  <div class="row1" data-step-label="Fitness Goal">
    <h3 class="tooltip1" data-tooltip="Choose your primary fitness objective to receive customized calorie recommendations.">
      Fitness Goal<span class="tooltip1-content"></span>
    </h3>
    <div class="grid-container" id="goal">
      <div class="grid-item" data-value="Lose Weight">Lose weight</div>
      <div class="grid-item" data-value="Gain Muscle">Gain muscle</div>
      <div class="grid-item" data-value="Maintain Weight">Maintain weight</div>
      <div class="grid-item" data-value="Improve Endurance">Improve endurance</div>
    </div>
  </div>

  <div class="row1" data-step-label="Activity Details">
    <h3 class="tooltip1" data-tooltip="Describe your weekly physical activity to help calculate your daily calorie needs based on your lifestyle.">
      Activity Details<span class="tooltip1-content"></span>
    </h3>
    <label for="calorie-activity-level" style="display:block; text-align:center; margin-bottom:4px;">Describe your weekly activity in your own words (voice or text):</label>
    <textarea id="activity-level" rows="2" style="width:100%;max-width:460px;display:block;margin:0 auto;" placeholder="I do cardio 3 times per week
Weights 2 times per week
Each session about 45 minutes"></textarea>
  </div>

  <div class="row1" data-step-label="Dietary Preferences">
    <h3 class="tooltip1" data-tooltip="Select your dietary preferences or restrictions to receive personalized meal recommendations that fit your lifestyle.">
      Dietary Preferences<span class="tooltip1-content"></span>
    </h3>
    <div class="grid-container" id="diet-type">
      <div class="grid-item" data-value="None">No Restrictions</div>
      <div class="grid-item" data-value="Vegetarian">Vegetarian</div>
      <div class="grid-item" data-value="Vegan">Vegan</div>
      <div class="grid-item" data-value="Gluten-Free">Gluten-Free</div>
      <div class="grid-item" data-value="Keto">Keto</div>
      <div class="grid-item" data-value="Paleo">Paleo</div>
      <div class="grid-item" data-value="Low-Carb">Low-Carb</div>
      <div class="grid-item" data-value="Mediterranean">Mediterranean</div>
    </div>
  </div>

  <div class="row1" data-step-label="Food Log">
    <h3 class="tooltip1" data-tooltip="Record what you typically eat throughout the day to get personalized nutritional analysis and recommendations.">
      Food Log<span class="tooltip1-content"></span>
    </h3>
    <textarea id="breakfast" data-meal="breakfast" placeholder="Breakfast:
1 cup oatmeal
0.5 cup berries
1 tbsp honey" rows="3"></textarea>
    <textarea id="lunch" data-meal="lunch" placeholder="Lunch:
200g chicken breast
150g mixed salad
2 tbsp olive oil" rows="3"></textarea>
    <textarea id="dinner" data-meal="dinner" placeholder="Dinner:
6 oz salmon
1/2 cup quinoa
100g broccoli" rows="3"></textarea>
    <textarea id="snacks" data-meal="snacks" placeholder="Snacks:
1 apple
30g almonds
1 cup green tea" rows="3"></textarea>
    <button class="generate-btn" id="generate-calorie-btn">Generate Analysis</button>
  </div>
</div> 

<!-- Jump to Food Log button (conditionally rendered by JS) -->

<script type="module">
/*
 * Copyright (c) 2025 INEXASLI. All rights reserved.
 * This code is protected under Canadian and international copyright laws.
 * Unauthorized use, reproduction, distribution, or modification of this code 
 * without explicit written permission via email from info@inexasli.com 
 * is strictly prohibited. Violators will be pursued and prosecuted to the 
 * fullest extent of the law in British Columbia, Canada, and applicable 
 * jurisdictions worldwide.
*/

// Rate limiting utilities are now available globally via window.rateLimiter

(function() {
  // FormPersistence is initialized by datain.js and available as window.calorieFormPersistence
  // No need to create it here - just ensure it's available when we need it

  // Handle the generate button click - Use centralized handler
  async function handleGenerateCalorieIq() {
    try {
      await window.handleGenerateRequest('calorie', {
        alertMessage: 'Please complete the form before generating a calorie plan.'
      });
    } catch (error) {
      // Error is already handled by centralized function
      console.error('[CalorieIQ] Error in calorie generation wrapper:', error);
    }
  }

  // Initialization
  const generateCalorieBtn = document.getElementById('generate-calorie-btn');
  if (generateCalorieBtn) {
    generateCalorieBtn.addEventListener('click', handleGenerateCalorieIq);
    // Set flag to prevent duplicate handler attachment
    generateCalorieBtn.dataset.handlerAttached = 'true';
  }

  // Guided forms integration
  if (typeof GuidedForms !== 'undefined' && GuidedForms.calorieiq) {
    new GuidedForms.calorieiq();
  }
})();
</script>



