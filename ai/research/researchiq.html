<head>
  <script src="../../ai/datain.js" type="module"></script>
  <!-- inputstyles.css will be loaded dynamically by datain.js -->
</head>
<!--
 * Copyright (c) 2025 INEXASLI. All rights reserved.
 * This code is protected under Canadian and international copyright laws.
 * Unauthorized use, reproduction, distribution, or modification of this code 
 * without explicit written permission via email from info@inexasli.com 
 * is strictly prohibited. Violators will be pursued and prosecuted to the 
 * fullest extent of the law in British Columbia, Canada, and applicable 
 * jurisdictions worldwide.
-->

<div class="device-container">
  <div class="row1 product-description-container">
    <h2 class="product-description-heading">Get AI-Powered Research Instantly!</h2>
    <p class="product-description-text">
      Enter your research question or topic, add any extra details, and select your preferred report format. Our AI will research and generate a report for youâ€”charts included if possible!
    </p>
    <p class="product-description-disclaimer">
      <em>Important: The information provided is for informational and educational purposes only and is generated by artificial intelligence. Always verify results and use at your own risk.</em>
    </p>
    <p class="product-description-final">Let's get started!</p>
  </div>

  <div class="row1">
    <h3 class="tooltip1" data-tooltip="What do you want the AI to research for you?">
      Research Topic or Question<span class="tooltip1-content"></span>
    </h3>
    <textarea id="research-topic" rows="3" placeholder="e.g. The impact of remote work on productivity in tech companies"></textarea>
  </div>

  <div class="row1">
    <h3 class="tooltip1" data-tooltip="Add any extra details or context to help the AI with your research.">
      Additional Details (optional)<span class="tooltip1-content"></span>
    </h3>
    <textarea id="additional-details" rows="3" placeholder="e.g. Focus on studies from 2020 onward, include both US and Europe, summarize key findings"></textarea>
  </div>

  <div class="row1">
    <h3 class="tooltip1" data-tooltip="Choose the format for your research report.">
      Report Format<span class="tooltip1-content"></span>
    </h3>
    <select id="output-format">
      <option value="structured-report">Structured Research Report</option>
      <option value="executive-summary">Executive Summary</option>
      <option value="academic-paper">Academic Paper Format</option>
      <option value="presentation">Presentation Slides/Outline (includes charts if possible)</option>
      <option value="data-dashboard">Data Visualization Dashboard (includes charts)</option>
    </select>
      <button class="generate-btn" id="generate-research-btn">Generate Research Report</button>

  </div>

</div>

<script src="../../utility/toolTip.js" type="module"></script>
<script src="../../payment/paymentform.js"></script>
<script>
(function() {
    document.getElementById('generate-research-btn').addEventListener('click', async function() {
        const topic = document.getElementById('research-topic').value.trim();
        const details = document.getElementById('additional-details').value.trim();
        const outputFormat = document.getElementById('output-format').value;
        // Only request charts if format is presentation or data-dashboard
        const includeCharts = (outputFormat === 'presentation' || outputFormat === 'data-dashboard');
        if (!topic) {
            alert('Please enter a research topic or question.');
            return;
        }
        const formData = {
            "research-topic": topic,
            "additional-details": details,
            outputFormat,
            includeCharts
        };
        const apiUrl = 'https://research.4hm7q4q75z.workers.dev/';
        try {
            const response = await fetch(apiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(formData)
            });
            if (!response.ok) throw new Error('Network error');
            const responseData = await response.json();
            alert('Research report generated!');
            // Optionally, redirect or update UI here
        } catch (error) {
            alert('Error generating research report: ' + error.message);
        }
    });
})();
(function() {
    let tooltipInitAttempts = 0;
    const maxAttempts = 20;
    function initTooltips() {
        tooltipInitAttempts++;
        if (typeof window.initializeTooltips === 'function') {
            try {
                window.initializeTooltips(document);
            } catch (error) {
                console.error('[ResearchIQ] Error initializing tooltips:', error);
            }
        } else if (tooltipInitAttempts < maxAttempts) {
            setTimeout(initTooltips, 100);
        } else {
            console.error('[ResearchIQ] Failed to initialize tooltips after maximum attempts');
        }
    }
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(initTooltips, 50);
        });
    } else {
        setTimeout(initTooltips, 100);
    }
})();
</script>
